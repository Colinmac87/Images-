<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Floor Plan – Pulsing Hotspots</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      background: #f8f8f8;
      font-family: Arial, Helvetica, sans-serif;
    }

    .hotspot-container {
      position: relative;
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
      background: #fff;
      overflow: hidden;
      box-shadow: 0 4px 20px rgba(0,0,0,0.15);
      border-radius: 4px;
    }

    .base-image {
      width: 100%;
      height: auto;
      display: block;
      user-select: none;
      pointer-events: none;
    }

    .hotspot {
      position: absolute;
      width: 24px;
      height: 24px;
      transform: translate(-50%, -50%);
      cursor: pointer;
      user-select: none;
    }

    .hotspot::before {
      content: '';
      position: absolute;
      inset: 0;
      border: 2px solid #1976d2;
      border-radius: 50%;
      opacity: 0.75;
      animation: pulse-ring 2.6s infinite ease-out;
      pointer-events: none;
    }

    .hotspot::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 10px;
      height: 10px;
      background: #1976d2;
      border-radius: 50%;
      transform: translate(-50%, -50%);
      box-shadow: 0 0 10px rgba(25,118,210,0.95);
      pointer-events: none;
      z-index: 1;
    }

    @keyframes pulse-ring {
      0%   { transform: scale(0.7); opacity: 0.9; box-shadow: 0 0 0 0 rgba(25,118,210,0.7); }
      70%  { transform: scale(2.8); opacity: 0;   box-shadow: 0 0 0 14px rgba(25,118,210,0); }
      100% { transform: scale(0.7); opacity: 0; }
    }

    .hotspot:hover::before { animation-duration: 2s; }

    /* Modal styles */
    .modal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.65);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 200;
      backdrop-filter: blur(4px);
    }

    .modal-content {
      background: white;
      color: #333;
      padding: 28px;
      border-radius: 12px;
      max-width: 90%;
      width: 520px;
      max-height: 85vh;
      overflow-y: auto;
      box-shadow: 0 10px 40px rgba(0,0,0,0.4);
      position: relative;
      transform: scale(0.85);
      opacity: 0;
      transition: all 0.25s ease;
    }

    .modal-overlay.active .modal-content {
      transform: scale(1);
      opacity: 1;
    }

    .modal-close {
      position: absolute;
      top: 12px;
      right: 16px;
      font-size: 32px;
      font-weight: bold;
      color: #888;
      cursor: pointer;
      line-height: 1;
    }

    .modal-close:hover {
      color: #000;
    }

    .modal-title {
      margin: 0 0 20px;
      font-size: 1.4rem;
      font-weight: 600;
      color: #1976d2;
    }

    .modal-body {
      font-size: 1.05rem;
      line-height: 1.6;
    }
  </style>
</head>
<body>
  <div class="hotspot-container">
    <img
      src="https://raw.githubusercontent.com/Colinmac87/Images-/main/Screenshot%202026-01-28%20090149.png"
      alt="Floor Plan Dashboard"
      class="base-image"
      loading="lazy"
    />

    <!-- Hotspots with data attributes -->
    <div class="hotspot" 
         data-title="Add levels / floor plans" 
         data-content="Add levels / floor plans – upload or create additional floor plans for multi-level buildings." 
         style="top:25%; left:10%;"></div>

    <div class="hotspot" 
         data-title="Plotted PDO's" 
         data-content="Plotted PDO's – all potential danger occurrence points already marked on the plan." 
         style="top:40%; left:47%;"></div>

    <div class="hotspot" 
         data-title="Advanced Register" 
         data-content="View all information on the advanced register – this view includes detailed logs, compliance status, incident history, asset tracking data and more." 
         style="top:9%; left:86%;"></div>

    <div class="hotspot" 
         data-title="Severity overview per level" 
         data-content="Severity overview per level – summary of risk levels and severity scores broken down by floor." 
         style="top:90%; left:16%;"></div>

    <div class="hotspot" 
         data-title="PDO Locations & Boundary Zones" 
         data-content="Place PDO locations & create boundary zones – mark potential danger points and define restricted or monitored boundary areas on the plan." 
         style="top:91%; left:93%;"></div>
  </div>

  <!-- Centered Modal -->
  <div class="modal-overlay" id="modal">
    <div class="modal-content">
      <span class="modal-close" id="closeModal">×</span>
      <h3 class="modal-title" id="modalTitle"></h3>
      <div class="modal-body" id="modalContent"></div>
    </div>
  </div>

  <script>
    const hotspots = document.querySelectorAll(".hotspot");
    const modal = document.getElementById("modal");
    const modalTitle = document.getElementById("modalTitle");
    const modalContent = document.getElementById("modalContent");
    const closeModalBtn = document.getElementById("closeModal");

    hotspots.forEach(spot => {
      spot.addEventListener("click", () => {
        // Set content first
        modalTitle.textContent = spot.dataset.title || "Information";
        modalContent.textContent = spot.dataset.content || "No description available.";

        // Then show modal
        modal.style.display = "flex";
        // Small delay for transition to trigger
        setTimeout(() => modal.classList.add("active"), 10);
      });

      spot.addEventListener("keydown", e => {
        if (e.key === "Enter" || e.key === " ") {
          e.preventDefault();
          spot.click();
        }
      });
    });

    // Close handlers
    closeModalBtn.addEventListener("click", closeModalFunction);
    modal.addEventListener("click", e => {
      if (e.target === modal) closeModalFunction();
    });

    document.addEventListener("keydown", e => {
      if (e.key === "Escape" && modal.style.display === "flex") {
        closeModalFunction();
      }
    });

    function closeModalFunction() {
      modal.classList.remove("active");
      setTimeout(() => {
        modal.style.display = "none";
      }, 250); // match transition duration
    }
  </script>
</body>
</html>
